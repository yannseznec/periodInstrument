#N canvas 178 111 1223 761 10;
#N canvas 32 69 1369 803 autoplay 0;
#X floatatom 279 367 5 0 0 0 - - - 0;
#X obj 300 442 phasor~ 0.1;
#X obj 364 505 spigot;
#X obj 517 346 sel 1;
#X obj 376 371 f;
#X obj 302 565 spigot;
#X obj 163 399 - 1;
#X obj 163 421 abs;
#X obj 162 446 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 222 375 sel 0;
#X obj 233 415 f;
#X floatatom 94 71 5 0 0 0 - - - 0;
#X obj 94 90 / 44.1;
#X floatatom 94 112 5 0 0 0 - - - 0;
#X floatatom 94 153 15 0 0 0 - - - 0;
#X obj 94 131 expr 1000/$f1;
#X obj 181 256 *;
#X obj 250 331 * 1;
#X obj 268 286 t b b;
#X obj 267 259 sel 0 1;
#X msg 301 313 1;
#X obj 325 285 t b b;
#X msg 358 312 -1;
#X obj 474 312 t f f;
#X floatatom 388 393 5 0 0 0 - - - 0;
#X obj 110 201 t b f;
#X floatatom 364 526 5 0 0 0 - - - 0;
#X obj 189 203 * 4;
#X obj 300 464 snapshot~;
#X obj 395 440 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 395 460 metro 10;
#X obj 94 49 r \$1-samplelength;
#X obj 201 167 r \$1-autoplay_speed;
#X obj 267 238 r \$1-autoplay_reverse;
#X obj 403 159 r \$1-sample_offset;
#X obj 511 203 r \$1-autoplay_on_off;
#X obj 167 342 r \$1-freeze;
#X obj 300 593 s \$1-sample_offset_rcv;
#X connect 0 0 1 0;
#X connect 1 0 28 0;
#X connect 2 0 5 0;
#X connect 2 0 26 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 4 0 24 0;
#X connect 5 0 10 1;
#X connect 5 0 37 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 5 1;
#X connect 9 0 10 0;
#X connect 10 0 1 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 14 0 25 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 0 0;
#X connect 18 0 17 0;
#X connect 18 1 20 0;
#X connect 19 0 18 0;
#X connect 19 1 21 0;
#X connect 20 0 17 1;
#X connect 21 0 17 0;
#X connect 21 1 22 0;
#X connect 22 0 17 1;
#X connect 23 0 2 1;
#X connect 23 1 3 0;
#X connect 25 0 16 0;
#X connect 25 1 16 1;
#X connect 27 0 16 0;
#X connect 28 0 2 0;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 31 0 11 0;
#X connect 32 0 27 0;
#X connect 33 0 19 0;
#X connect 34 0 4 1;
#X connect 35 0 23 0;
#X connect 35 0 29 0;
#X connect 36 0 6 0;
#X connect 36 0 9 0;
#X restore 56 327 pd autoplay;
#X floatatom 473 248 5 0 0 0 - - - 0;
#X text 411 250 channels;
#X obj 349 175 loadbang;
#X obj 471 223 r num_channels_rcv;
#X obj 480 310 s num_channels;
#X msg 377 202 32;
#X text 63 278 number of instances of y_grain_stereo should equal the numgrains (I recognise this is silly);
#X msg 307 201 10;
#X text 152 146 (some vestigial things in here to clean up);
#X obj 748 260 metro 1000;
#X msg 62 223 next 1;
#X obj 808 205 * 1000;
#X obj 748 287 random 100;
#X floatatom 748 308 5 0 0 0 - - - 0;
#X obj 753 341 < 100;
#X obj 753 369 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 753 389 sel 1;
#X obj 755 415 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 821 316 * 100;
#X obj 999 265 * 44100;
#X floatatom 1000 295 15 0 0 0 - - - 0;
#X floatatom 809 229 5 0 0 0 - - - 0;
#X obj 999 227 + 0.01;
#X obj 754 218 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 748 236 change;
#X obj 708 731 dac~;
#X obj 411 399 *~;
#X obj 504 399 *~;
#X obj 385 348 catch~ \$1-grainoutL;
#X obj 513 345 catch~ \$1-grainoutR;
#X obj 525 372 r \$1-volume;
#X obj 308 256 s \$1-numgrains;
#X obj 63 202 r \$1-mastergrainbang;
#X obj 761 437 s \$1-mastergrainbang;
#X obj 816 385 r \$1-play_one_grain;
#X obj 821 289 r \$1-grainplay_chance;
#X obj 807 148 r \$1-grain_density;
#X obj 748 178 r \$1-on_off;
#X obj 994 195 r \$1-grain_size;
#X obj 999 319 s \$1-grainsize;
#X obj 1060 224 r samplerate;
#X obj 417 462 hip~ 30;
#X obj 538 465 hip~ 30;
#X obj 438 514 lop~ 8000;
#X obj 510 514 lop~ 8000;
#X obj 239 468 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 244 442 r \$1-reset_pitch;
#X obj 232 519 s \$1-grain_pitch_rcv;
#X msg 227 497 0.25;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-hann 441 float 1;
#A 0 5.58197e-05 0.000211179 0.000466049 0.000820369 0.00127408 0.00182706 0.00248876 0.00325206 0.00411421 0.00507513 0.00613457 0.00729233 0.00855508 0.00992075 0.0113839 0.0129444 0.0146018 0.0163559 0.0182106 0.0201685 0.022222 0.0243706 0.026614 0.0289515 0.0313846 0.0339207 0.0365494 0.0392705 0.0420832 0.0449872 0.0479817 0.0510767 0.0542615 0.0575351 0.0608967 0.0643458 0.0678817 0.0715112 0.0752289 0.0790311 0.082917 0.086886 0.0909373 0.0950752 0.0992985 0.103601 0.107983 0.112443 0.11698 0.121597 0.126294 0.131067 0.135912 0.140831 0.14582 0.150882 0.15602 0.161227 0.166501 0.171841 0.177247 0.182717 0.188257 0.19386 0.199524 0.205248 0.211031 0.216871 0.222772 0.22873 0.234743 0.240808 0.246925 0.253092 0.259311 0.265581 0.271898 0.27826 0.284667 0.291116 0.297608 0.304145 0.31072 0.317332 0.323982 0.330666 0.337384 0.344138 0.350924 0.357738 0.364582 0.371452 0.378348 0.38527 0.392216 0.399183 0.406171 0.413177 0.4202 0.427241 0.434296 0.441365 0.448445 0.455536 0.462635 0.469742 0.476856 0.483974 0.491096 0.498219 0.505343 0.512465 0.519585 0.526701 0.533812 0.540915 0.548011 0.555097 0.562171 0.569233 0.57628 0.583313 0.590329 0.597327 0.604304 0.611259 0.618192 0.625102 0.631987 0.638845 0.645674 0.652473 0.659241 0.665977 0.67268 0.679349 0.685981 0.692573 0.699126 0.70564 0.712113 0.718544 0.72493 0.731267 0.737558 0.743801 0.749996 0.756142 0.762236 0.768272 0.774255 0.780182 0.786054 0.791869 0.797626 0.803318 0.808948 0.814517 0.820022 0.825465 0.830842 0.836149 0.841386 0.846554 0.851654 0.856683 0.861642 0.866525 0.87133 0.876061 0.880717 0.885297 0.8898 0.894225 0.898563 0.902821 0.906999 0.911096 0.915111 0.919044 0.922885 0.926639 0.930309 0.933894 0.937391 0.940802 0.944118 0.947342 0.950477 0.953522 0.956477 0.959341 0.962108 0.964778 0.967354 0.969838 0.972228 0.974525 0.976724 0.978819 0.980819 0.982723 0.984531 0.986243 0.987857 0.989363 0.990772 0.992083 0.993295 0.99441 0.995426 0.996334 0.997141 0.997848 0.998457 0.998966 0.999376 0.99968 0.999879 0.999978 0.999978 0.999879 0.999679 0.999376 0.998966 0.998457 0.997848 0.99714 0.996333 0.995426 0.994409 0.993295 0.992082 0.990771 0.989362 0.987857 0.986242 0.98453 0.982722 0.980818 0.978818 0.976722 0.974523 0.972227 0.969837 0.967353 0.964776 0.962107 0.959339 0.956475 0.95352 0.950475 0.94734 0.944116 0.9408 0.937389 0.933891 0.930307 0.926637 0.922882 0.919042 0.915109 0.911094 0.906997 0.902818 0.89856 0.894222 0.889797 0.885294 0.880714 0.876058 0.871327 0.866522 0.861639 0.85668 0.851651 0.846551 0.841383 0.836146 0.830839 0.825461 0.820019 0.814513 0.808945 0.803315 0.797622 0.791865 0.786051 0.780179 0.774251 0.768269 0.762232 0.756138 0.749993 0.743798 0.737554 0.731263 0.724926 0.71854 0.712109 0.705636 0.699123 0.692569 0.685977 0.679345 0.672676 0.665973 0.659237 0.652469 0.64567 0.638841 0.631983 0.625098 0.618188 0.611255 0.604299 0.597323 0.590325 0.583309 0.576276 0.569229 0.562167 0.555093 0.548007 0.540911 0.533807 0.526697 0.519581 0.512461 0.505338 0.498215 0.491092 0.48397 0.476852 0.469738 0.462631 0.455531 0.448441 0.441361 0.434292 0.427236 0.420196 0.413173 0.406167 0.399179 0.392212 0.385266 0.378344 0.371448 0.364578 0.357734 0.350919 0.344134 0.33738 0.330662 0.323978 0.317328 0.310716 0.304141 0.297604 0.291112 0.284663 0.278257 0.271894 0.265578 0.259307 0.253088 0.246921 0.240804 0.234739 0.228727 0.222768 0.216867 0.211027 0.205245 0.199521 0.193857 0.188254 0.182714 0.177243 0.171838 0.166497 0.161223 0.156016 0.150878 0.145817 0.140827 0.135909 0.131063 0.126291 0.121593 0.116977 0.11244 0.10798 0.103598 0.0992954 0.0950722 0.0909344 0.086883 0.0829141 0.0790282 0.075226 0.0715085 0.0678789 0.0643432 0.0608941 0.0575325 0.054259 0.0510742 0.0479794 0.0449848 0.042081 0.0392683 0.0365472 0.0339186 0.0313826 0.0289496 0.026612 0.0243689 0.0222203 0.0201668 0.018209 0.0163543 0.0146004 0.012943 0.0113826 0.00991952 0.00855392 0.00729129 0.00613356 0.00507423 0.00411341 0.00325134 0.00248814 0.00182652 0.00127363 0.000820011 0.00046578 0.00021103 5.57601e-05 0;
#X coords 0 1 440 0 200 140 1 0 0;
#X restore 966 354 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-crown 441 float 1;
#A 0 0.0356611 0.0712777 0.10689 0.142498 0.1781 0.213688 0.249272 0.284836 0.32039 0.355928 0.391445 0.42695 0.46242 0.497879 0.533304 0.568705 0.604083 0.639418 0.674739 0.710003 0.745247 0.780448 0.815606 0.850737 0.885803 0.920846 0.955822 0.990761 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0.99072 0.955781 0.920804 0.885761 0.850695 0.815564 0.780405 0.745205 0.709961 0.674697 0.639376 0.604041 0.568663 0.533262 0.497837 0.462378 0.426908 0.391402 0.355886 0.320348 0.284794 0.249229 0.213646 0.178057 0.142455 0.106848 0.0712351 0.0356185 3.77489e-07;
#X coords 0 1 440 0 200 140 1 0 0;
#X restore 901 527 graph;
#X obj 216 548 loadbang;
#X obj 220 579 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 223 608 i \$1;
#X msg 218 633 \; \$1-poly_grain-L edit 0 \; \$1-poly_grain-L edit 0;
#X obj 47 419 r \$1-choose_sound;
#X obj 47 440 openpanel;
#X obj 144 477 loadbang;
#X obj 114 543 i \$1;
#X obj 114 518 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 35 697 soundfiler;
#X obj 43 730 s \$1-samplelength;
#X obj 46 585 pack s float;
#X msg 35 676 read -resize \$1 \$2-poly_grain-L \$2-poly_grain-R;
#X obj 180 708 t b;
#X obj 180 729 s \$1-visual;
#X obj 477 583 throw~ recordingL;
#X obj 491 560 throw~ recordingR;
#X obj 67 636 print;
#X obj 170 404 loadbang;
#X obj 62 488 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 239 54 symbol \$2;
#X obj 242 28 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X symbolatom 247 81 23 0 0 0 - - - 0;
#X obj 48 527 symbol \$2;
#X obj 170 425 delay 100;
#X obj 783 47 array define \$1-poly_grain-L;
#X obj 784 78 array define \$1-poly_grain-R;
#X obj 60 245 clone y_grain_mono 6 \$1;
#X msg 338 200 6;
#X connect 1 0 5 0;
#X connect 3 0 80 0;
#X connect 4 0 1 0;
#X connect 6 0 32 0;
#X connect 8 0 32 0;
#X connect 10 0 13 0;
#X connect 11 0 79 0;
#X connect 12 0 22 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 34 0;
#X connect 19 0 15 1;
#X connect 20 0 21 0;
#X connect 21 0 40 0;
#X connect 22 0 10 1;
#X connect 23 0 20 0;
#X connect 24 0 25 0;
#X connect 25 0 10 0;
#X connect 27 0 42 0;
#X connect 28 0 43 0;
#X connect 29 0 27 0;
#X connect 30 0 28 0;
#X connect 31 0 27 1;
#X connect 31 0 28 1;
#X connect 33 0 11 0;
#X connect 35 0 18 0;
#X connect 36 0 19 0;
#X connect 37 0 12 0;
#X connect 38 0 24 0;
#X connect 39 0 23 0;
#X connect 41 0 20 1;
#X connect 42 0 44 0;
#X connect 43 0 45 0;
#X connect 44 0 67 0;
#X connect 45 0 68 0;
#X connect 46 0 49 0;
#X connect 47 0 46 0;
#X connect 49 0 48 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X connect 56 0 57 0;
#X connect 57 0 63 0;
#X connect 58 0 60 0;
#X connect 59 0 63 1;
#X connect 60 0 59 0;
#X connect 61 0 62 0;
#X connect 61 0 65 0;
#X connect 63 0 64 0;
#X connect 64 0 61 0;
#X connect 65 0 66 0;
#X connect 70 0 76 0;
#X connect 71 0 75 0;
#X connect 72 0 74 0;
#X connect 73 0 72 0;
#X connect 75 0 63 0;
#X connect 76 0 71 0;
#X connect 80 0 32 0;
#X coords 0 761 1 760 400 600 0;
